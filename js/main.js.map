{"version":3,"sources":["../scripts/main.js"],"names":["eval_template","src","ctx","replace","_","k","get_template","document","getElementById","id","innerHTML","trim","zola_widget","e","t","n","s","a","getElementsByTagName","createElement","async","parentNode","insertBefore","handle_click","target","href","parts","split","length","page","ga","invoke_ga","i","o","g","r","m","q","push","arguments","l","Date","window","set_body_class","body","querySelector","className","is_mobile","init","location","hostname","test","navigator","userAgent","container","content_t","forEach","template","html","insertAdjacentHTML"],"mappings":"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","file":"main.js","sourcesContent":["const eval_template = (src,ctx) =>  src.replace(/{(\\w+)}/g, (_,k) => ctx[k] || \"\");\nconst get_template = id => document.getElementById(id).innerHTML.trim();\n\nconst zola_widget = (e,t,n) => {\n  let s,a=e.getElementsByTagName(t)[0];\n  e.getElementById(n)||(s=e.createElement(t),s.id=n,s.async=!0,s.src=\"https://widget.zola.com/js/widget.js\",a.parentNode.insertBefore(s,a))\n};\n\nconst handle_click = e => {\n  if (e.target.href) {\n    let parts = e.target.href.split('#');\n    if (parts.length > 1) {\n      let page = parts[parts.length - 1];\n      try {\n        ga('send', 'pageview',page);\n      } \n      catch(e) {} // fail silently (there is no other way to check if ga is not on)\n    }\n  }\n}\n\nconst invoke_ga = () => {\n  (function(i,s,o,g,r,a,m){\n    i['GoogleAnalyticsObject']=r;\n    i[r]=i[r]||function(){\n      (i[r].q=i[r].q||[]).push(arguments)\n    },i[r].l=1*new Date();\n    a=s.createElement(o),m=s.getElementsByTagName(o)[0];\n    a.async=1;\n    a.src=g;\n    m.parentNode.insertBefore(a,m)\n  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');\n\n  ga('create', 'UA-87609155-1', 'auto');\n  ga('send', 'pageview', '/');\n}\n\nconst set_body_class = is_mobile => {\n  let body = document.querySelector('body');\n  body.className = is_mobile ? 'mobile' : 'desktop';\n}\n\nconst init = () => {\n  if (window.location.hostname !== 'localhost') {\n    invoke_ga();\n  }\n  let is_mobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);\n  //set_body_class(is_mobile);\n\n  let container = document.getElementById('container');\n  // let content_t =  get_template(is_mobile ? 'mobile-content-template' : 'content-template');\n  let content_t =  get_template('content-template');\n  ['rsvp', 'accommodation', 'transport', 'about', 'checklist', 'registry', 'schedule'].forEach((id) => {\n    let template = get_template(id + '-template');\n    let html = eval_template(content_t, {id: id, body: eval_template(template,{})});\n    container.insertAdjacentHTML('beforeend', html);\n  });\n  if (!is_mobile) {\n    zola_widget(document,\"script\",\"zola-wjs\");\n  }\n}"]}
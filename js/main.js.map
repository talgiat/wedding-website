{"version":3,"sources":["../scripts/main.js"],"names":["$","document","getElementById","bind","evalTemplate","src","ctx","replace","_","k","getTemplate","id","innerHTML","trim","zolaWidget","e","t","n","s","a","getElementsByTagName","createElement","async","parentNode","insertBefore","getHTMLForTemplate","context","template","reportPageview","target","href","parts","split","length","page","ga","setMobileContentTo","content_mobile","querySelector","classes","template_id","className","menuEntryClick","toLowerCase","menu","classList","remove","toggleMenu","toggle","invokeGA","i","o","g","r","m","q","push","arguments","l","Date","window","setBodyClass","body","add","is_mobile","init","location","hostname","test","navigator","userAgent","container","content_t","forEach","html","insertAdjacentHTML"],"mappings":"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","file":"main.js","sourcesContent":["const $ = document.getElementById.bind(document);\nconst evalTemplate = (src,ctx) =>  src.replace(/{(\\w+)}/g, (_,k) => ctx[k] || \"\");\nconst getTemplate = id => $(id).innerHTML.trim();\n\nconst zolaWidget = (e,t,n) => {\n  let s,a=e.getElementsByTagName(t)[0];\n  e.getElementById(n)||(s=e.createElement(t),s.id=n,s.async=!0,s.src=\"https://widget.zola.com/js/widget.js\",a.parentNode.insertBefore(s,a))\n};\n\nconst getHTMLForTemplate = (id,context) => {\n  let template = getTemplate(id + '-template');\n  return evalTemplate(template,context);\n};\n\nconst reportPageview = e => {\n  if (e.target.href) {\n    let parts = e.target.href.split('#');\n    if (parts.length > 1) {\n      let page = parts[parts.length - 1];\n      try {\n        ga('send', 'pageview',page);\n      } \n      catch(e) {} // fail silently (there is no other way to check if ga is not on)\n    }\n  }\n};\n\nconst setMobileContentTo = template_id => {\n  let content_mobile = document.querySelector('.content-mobile');\n  let classes = 'content-mobile ' + (template_id == 'home' ? 'home' : 'info');\n  content_mobile.className = classes;\n  content_mobile.innerHTML = getHTMLForTemplate(template_id,{});\n};\n\nconst menuEntryClick = e => {\n  let id = e.target.innerHTML.trim().toLowerCase();\n  let menu = $('container-mobile');\n  menu.classList.remove('menu-open');\n  setMobileContentTo(id);\n  // if (id === 'registry') {\n  //   zolaWidget(document, \"script\", \"zola-wjs\");\n  // }\n};\n\nconst toggleMenu = e => {\n  let menu = $('container-mobile');\n  menu.classList.toggle('menu-open');\n};\n\nconst invokeGA = () => {\n  (function(i,s,o,g,r,a,m){\n    i['GoogleAnalyticsObject']=r;\n    i[r]=i[r]||function(){\n      (i[r].q=i[r].q||[]).push(arguments)\n    },i[r].l=1*new Date();\n    a=s.createElement(o),m=s.getElementsByTagName(o)[0];\n    a.async=1;\n    a.src=g;\n    m.parentNode.insertBefore(a,m)\n  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');\n\n  ga('create', 'UA-87609155-1', 'auto');\n  ga('send', 'pageview', '/');\n};\n\nconst setBodyClass = is_mobile => {\n  let body = document.querySelector('body');\n  body.classList.add(is_mobile ? 'mobile' : 'desktop');\n};\n\nconst init = () => {\n  if (window.location.hostname !== 'localhost') {\n    invokeGA();\n  }\n  let is_mobile = /Android|webOS|iPhone|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);\n  setBodyClass(is_mobile);\n\n  if (!is_mobile) {\n    let container = $('container');\n    let content_t =  getTemplate('content-template');\n    ['rsvp', 'accommodation', 'transport', 'about', 'checklist', 'registry', 'schedule'].forEach(id => {\n      let html = evalTemplate(content_t, {id: id, body: getHTMLForTemplate(id,{id: id})});\n      container.insertAdjacentHTML('beforeend', html);\n    });\n    zolaWidget(document, \"script\", \"zola-wjs\");\n  } else {\n    setMobileContentTo('home');\n  }\n};"]}